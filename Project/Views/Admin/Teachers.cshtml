@{
    var teachersEnumerable = ViewBag.TeachersSummary as System.Collections.IEnumerable;
}

<h1>Teachers</h1>

<div class="mb-3">
    <a class="btn btn-success" asp-action="CreateTeacher" asp-controller="Admin">Add Teacher</a>
</div>

@if (teachersEnumerable == null || !teachersEnumerable.Cast<object>().Any())
{
    <div class="alert alert-info">No teachers found.</div>
}
else
{
    <table class="table">
        <thead><tr><th>Id</th><th>Name</th><th>Email</th><th>Classes</th><th>Actions</th></tr></thead>
        <tbody>
            @foreach (dynamic t in teachersEnumerable)
            {
                <tr>
                    <td>@t.Id</td>
                    <td>@t.Name</td>
                    <td>@t.Email</td>
                    <td>@t.ClassCount</td>
                    <td>
                        <a class="btn btn-sm btn-danger" href="@Url.Action("DeleteTeacher", "Admin", new { id = t.Id })">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
